# OPD Question Copilot â€” Environment Configuration
# Copy to .env and adjust as needed

# Hugging Face auth (required for first-time model downloads)
HF_TOKEN=hf_your_token_here
# Optional aliases (scripts support these too):
# HUGGING_FACE_HUB_TOKEN=hf_your_token_here
# HUGGINGFACEHUB_API_TOKEN=hf_your_token_here
# OPD_HF_TOKEN=hf_your_token_here

# Local model/cache directories (relative to repo root by default)
OPD_MODEL_CACHE_DIR=models/hf_cache
OPD_MEDASR_LOCAL_DIR=models/medasr

# External OpenAI-compatible LLM service (see api_usage.md)
OPD_MEDGEMMA_BASE_URL=http://127.0.0.1:11424/v1
# Set this to one of the IDs returned by GET /v1/models.
OPD_MEDGEMMA_MODEL=google/medgemma-4b-it
OPD_MEDGEMMA_API_KEY=not-required
OPD_MEDGEMMA_REQUEST_TIMEOUT_SECONDS=20
OPD_MEDGEMMA_MAX_RETRIES=2
OPD_MEDGEMMA_RETRY_BACKOFF_SECONDS=0.5
OPD_MEDGEMMA_PARSE_RETRY_ENABLED=true
OPD_MEDGEMMA_LOG_ENABLED=true
OPD_MEDGEMMA_LOG_PATH=logs/medgemma_calls.jsonl

# MedASR
OPD_MEDASR_MODEL_ID=google/medasr
OPD_MEDASR_DEVICE=cpu  # or "cuda"
OPD_AUDIO_CHUNK_MIN_SECONDS=5.0
OPD_AUDIO_OVERLAP_SECONDS=1.0
OPD_LIVE_TRANSCRIPT_ENABLED=false

# Server
OPD_HOST=0.0.0.0
OPD_PORT=8080

# Pipeline cadence
OPD_PIPELINE_DEBOUNCE_SECONDS=5.0
OPD_DEMOGRAPHICS_PIPELINE_DEBOUNCE_SECONDS=
OPD_CHIEF_COMPLAINT_PIPELINE_DEBOUNCE_SECONDS=
OPD_KEYWORDS_PIPELINE_DEBOUNCE_SECONDS=
OPD_SYMPTOM_PIPELINE_DEBOUNCE_SECONDS=
OPD_MEDGEMMA_MAX_CONCURRENT_CALLS=4
OPD_SAFETY_FILTER_ENABLED=true
OPD_ENABLE_DEMOGRAPHICS_EXTRACTION=true
OPD_ENABLE_SYMPTOM_PIPELINE=true
OPD_MAX_SYMPTOM_CALLS_PER_CYCLE=
